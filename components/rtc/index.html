<!DOCTYPE html>
<html>
  <head>
    <title>Arduino Seeed Library</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="revised" content="2019-03-27T10:40:38 NDT">
<title>Real-Time Clock :: Arduino Seeed Library</title>
<link rel="shortcut icon" href="/arduino-seeed/images/favicon.png" type="image/x-icon" />
<link href="/arduino-seeed/css/nucleus.css" rel="stylesheet">
<link href="/arduino-seeed/css/font-awesome.min.css" rel="stylesheet">
<link href="/arduino-seeed/css/hybrid.css" rel="stylesheet">
<link href="/arduino-seeed/css/featherlight.min.css" rel="stylesheet">
<link href="/arduino-seeed/css/auto-complete.css" rel="stylesheet">
<link href="/arduino-seeed/theme-original/style.css" rel="stylesheet">

<link rel="stylesheet" href="/arduino-seeed/css/bootstrap.min.css">
<script src="/arduino-seeed/js/jquery-2.x.min.js"></script>
<style type="text/css">
  :root #header + #content > #left > #rlblock_left {
    display:none !important;
  }
</style>
<meta name="description" content=""/>
<link rel="stylesheet" type="text/css" href="https://memorial-ece.github.io/arduino-seeed/extra.css"/>
    
  </head>
  <body data-url="/arduino-seeed/components/rtc/">
    
      <div id="headermain"></div>
<nav id="sidebar" class="">



<div class="highlightable">
  <div id="header-wrapper">
    <div id="header">
      
	
  
    <a class="baselink" href="https://memorial-ece.github.io/arduino-seeed/">Arduino Seeed Library</a>
  


    </div>
        <div class="searchbox">
		    <label for="search-by"><i class="fa fa-search"></i></label>
		    <input data-search-input id="search-by" type="text" placeholder="Search...">
		    <span data-search-clear=""><i class="fa fa-close"></i></span>
		</div>
		<script type="text/javascript" src="/arduino-seeed/js/lunr.min.js"></script>
		<script type="text/javascript" src="/arduino-seeed/js/auto-complete.js"></script>
		<script type="text/javascript">
        
            var baseurl = "https:\/\/memorial-ece.github.io\/arduino-seeed\/";
        
		</script>
		<script type="text/javascript" src="/arduino-seeed/js/search.js"></script>
  </div>

      <ul class="topics">
            <li data-nav-id="/arduino-seeed/" class="dd-item">
            <a href="/arduino-seeed/"><i class="fa fa-fw fa-home"></i></a>
            </li>
    <li data-nav-id="/arduino-seeed/generic/" class="dd-item alwaysopen haschildren
        ">
      <div>
      <a href="/arduino-seeed/generic/">Generic components</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/arduino-seeed/generic/analog/" class="dd-item
        ">
      <div>
      <a href="/arduino-seeed/generic/analog/">Analog</a>
      </div>
    </li>
    <li data-nav-id="/arduino-seeed/generic/digital/" class="dd-item
        ">
      <div>
      <a href="/arduino-seeed/generic/digital/">Digital</a>
      </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/arduino-seeed/components/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/arduino-seeed/components/">Specialized components</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/arduino-seeed/components/digits/" class="dd-item
        ">
      <div>
      <a href="/arduino-seeed/components/digits/">4-Digit Display</a>
      </div>
    </li>
    <li data-nav-id="/arduino-seeed/components/barometer/" class="dd-item
        ">
      <div>
      <a href="/arduino-seeed/components/barometer/">Barometer</a>
      </div>
    </li>
    <li data-nav-id="/arduino-seeed/components/gesture/" class="dd-item
        ">
      <div>
      <a href="/arduino-seeed/components/gesture/">Gesture Sensor</a>
      </div>
    </li>
    <li data-nav-id="/arduino-seeed/components/heart-rate/" class="dd-item
        ">
      <div>
      <a href="/arduino-seeed/components/heart-rate/">Heart Rate Sensor</a>
      </div>
    </li>
    <li data-nav-id="/arduino-seeed/components/lcd-screen/" class="dd-item
        ">
      <div>
      <a href="/arduino-seeed/components/lcd-screen/">LCD screen</a>
      </div>
    </li>
    <li data-nav-id="/arduino-seeed/components/led-bar/" class="dd-item
        ">
      <div>
      <a href="/arduino-seeed/components/led-bar/">LED bar</a>
      </div>
    </li>
    <li data-nav-id="/arduino-seeed/components/rgba/" class="dd-item
        ">
      <div>
      <a href="/arduino-seeed/components/rgba/">RGBA LED</a>
      </div>
    </li>
    <li data-nav-id="/arduino-seeed/components/rtc/" class="dd-item parent active
        ">
      <div>
      <a href="/arduino-seeed/components/rtc/">Real-Time Clock</a>
      </div>
    </li>
    <li data-nav-id="/arduino-seeed/components/servo/" class="dd-item
        ">
      <div>
      <a href="/arduino-seeed/components/servo/">Servomotor</a>
      </div>
    </li>
    <li data-nav-id="/arduino-seeed/components/speech/" class="dd-item
        ">
      <div>
      <a href="/arduino-seeed/components/speech/">Speech Recognizer</a>
      </div>
    </li>
    <li data-nav-id="/arduino-seeed/components/joystick/" class="dd-item
        ">
      <div>
      <a href="/arduino-seeed/components/joystick/">Thumb Joystick</a>
      </div>
    </li>
    <li data-nav-id="/arduino-seeed/components/ultrasonic/" class="dd-item
        ">
      <div>
      <a href="/arduino-seeed/components/ultrasonic/">Ultrasonic Ranger</a>
      </div>
    </li>
        </ul>
    </li>



        <section id="shortcuts">
                <li class="" role=""><h3>Links:</h3><a href="https://www.engr.mun.ca/~anderson/teaching/1020" target="_blank" rel="noopener"><i class='fa fa-home'></i> <label>Course website</label></a></li>
                <li class="" role=""><a href="https://github.com/memorial-ece/arduino-seeed" target="_blank" rel="noopener"><i class='fa fa-github'></i> <label>Github repository</label></a></li>
        </section>

    <hr />
    <li></li>
    
    </ul>

 <section id="footer">
    </section>
  </div>
</nav>



<section id="body">
<div id="overlay"></div>
<div class="padding highlightable">

  <div id="top-bar">
    <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
        <span id="sidebar-toggle-span">
          <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
            <i class="fa fa-bars"></i>
          </a>
        </span>
        <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
        <span class="links">
        







 <a href='/arduino-seeed/'>Seeed Studio for Arduino</a> > <a href='/arduino-seeed/components/'>Specialized components</a> > Real-Time Clock

 

 

   
        </span>
    </div>
    
    
    <div class="progress">
        <div class="wrapper">
    
        </div>
    </div>
    

  </div>


<div id="body-inner">
  
    <h1>Real-Time Clock</h1>
  



    
    
    

<div class="paragraph">
<p>The
<a href="http://wiki.seeedstudio.com/Grove-RTC">Grove real-time clock (RTC)</a>
provides seconds, minutes, hours, day, date, month, and year. The end of the month date is automatically adjusted for months with fewer than 31 days, including corrections for leap years. The clock operates in either the 24-hour or 12-hour format with AM/PM indicator. And it is valid up to 2100. In order to gain a robust performance, you must put a 3-Volt CR1225 lithium cell in the battery-holder. If you use the primary power only, the module may not work normally, because the crystal may not oscillate.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="real-time-clock.jpg" alt="Grove Real-Time Clock">
</div>
</div>
<div class="sect1">
<h2 id="_hardware">Hardware</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Plug the sensor into any of the I2C ports on your
<a href="https://www.seeedstudio.com/Base-Shield-V2-p-1378.html">Grove shield</a>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../shield-i2c.png" alt="I2C ports on the Grove shield v2.0" height="250">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_software">Software</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Functions that interact with the real-time clock are prefixed with <code>rtc</code>.</p>
</div>
<div class="sect2">
<h3 id="_initialization">Initialization</h3>
<div class="paragraph">
<p>Before the real-time clock can be used, you must connect it to an I2C port on the
Grove shield and call the <code>rtcInit()</code> function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-C++" data-lang="C++">/**
Required to initialize real-time clock

*/
void rtcInit();</code></pre>
</div>
</div>
<div class="paragraph">
<p>This tells the software library that you are using a real-time and that you
have plugged in into an I2C port.
You must call this function before anything else will work.</p>
</div>
</div>
<div class="sect2">
<h3 id="_setting_time_and_date">Setting Time and Date</h3>
<div class="paragraph">
<p>After initializing the real-time clock, you may need to set the date and time it will start tracking from:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-C++" data-lang="C++">/**
Set initial time in rtc - will track from there

@param year

@param month
	@pre: 1 &lt;= month &lt;= 12
@param day
	@pre: 1 &lt;= day &lt;= 31
@param dow - day of week
	@pre: 1 &lt;= dow &lt;= 7
@param hour
	@pre: 0 &lt;= hour &lt;= 23
@param minute
	@pre: 0 &lt;= minute &lt;= 59
@param second
		@pre: 0 &lt;= second &lt;= 59

@modifies	  Time stored in RTC
*/
void rtcSetTimeDate(unsigned int year, unsigned int month, unsigned int day, unsigned int dow, unsigned int hour, unsigned int minute, unsigned int second);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_get_date">Get Date</h3>
<div class="paragraph">
<p>Once set, you can retrieve the date from the real-time clock:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-C++" data-lang="C++">/**
Get  date from rtc

@param year

@param month
	@pre: 1 &lt;= month &lt;= 12
@param day
	@pre: 1 &lt;= day &lt;= 31
@param dow - day of week
	@pre: 1 &lt;= dow &lt;= 7


@modifies	Variables passed in to store respective info
*/
void rtcGetDate(unsigned int&amp; year, unsigned int&amp; month, unsigned int&amp; day, unsigned int&amp; dow);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_get_time">Get Time</h3>
<div class="paragraph">
<p>Once set, you can retrieve the time of day from the real-time clock:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-C++" data-lang="C++">/**
Get  time from rtc


@param hour
	@pre: 0 &lt;= hour &lt;= 23
@param minute
	@pre: 0 &lt;= minute &lt;= 59
@param second
		@pre: 0 &lt;= second &lt;= 59

@modifiesVariables passed in to store respective info
*/
void rtcGetTime(unsigned int&amp; hour, unsigned int&amp; minute, unsigned int&amp; second);</code></pre>
</div>
</div>
</div>
</div>
</div>


    
    
          <footer class=" footline" >
	
</footer>
  </div>
</div>

<div id="navigation">
<a class="nav nav-prev" href="/arduino-seeed/components/rgba/" title="RGBA LED"> <i class="fa fa-chevron-left"></i><label>RGBA LED</label></a>
    <a class="nav nav-next" href="/arduino-seeed/components/servo/" title="Servomotor" style="margin-right: 0px;"><label>Servomotor</label><i class="fa fa-chevron-right"></i></a></div>

</section>
<div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
  <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
</div>    

<script src="/arduino-seeed/js/clipboard.min.js"></script>
<script src="/arduino-seeed/js/featherlight.min.js"></script>
<script src="/arduino-seeed/js/html5shiv-printshiv.min.js"></script>

<script src="/arduino-seeed/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script src="/arduino-seeed/js/modernizr.custom.71422.js"></script>
<script src="/arduino-seeed/js/docdock.js"></script>
<script src="/arduino-seeed/theme-original/script.js"></script>


    

    
    

    
  </body>
</html>